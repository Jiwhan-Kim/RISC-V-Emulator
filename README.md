# RISC-V-Emulator
RISC-V Emulator based on C++.

# Usage
First, compile the source code.
```shell
$ g++ -std=c++11 -o riscv_emulator riscv_emulator.cpp
```
Now, suppose you run a C program (./source.c) on RISC-V Emulator.
The binaries for RISC-V emulator are generated by 
```shell
$ riscv32-unknown-elf-gcc -Wl, -Ttext=0x0 -nostdlib -march=rv32i -o out_binary source.c
$ riscv32-unknown-elf-objcopy -O binary out_binary out_binary.bin
```
(Help: -Ttext=0x0 is the entry point of the program.)
(Help: You can use the extensions by adding -march=rv32i[m][a][f] to the command line.)
Then, you need to find the entry point by
```shell
$ riscv32-unknown-elf-objdump -t out_binary
```
Finally, you can run the emulator by
```shell
$ ./riscv_emulator out_binary.bin 0x00000000
```

# Architecture
- RV32I
- M, A, F is optional

- The extensions should be determined on compile time.

# TODO
- [o] RISC-V Init
- [x] RV32I Base Instruction Set
- [x] RV32M Standard Extension (Integer Multiplication and Division)
- [x] RV32A Standard Extension (Atomic Instructions)
- [x] RV32F Standard Extension (Single-Precision Floating-Point)
- [x] RV64I Base Instruction Set
- [x] RV64M Standard Extension (Integer Multiplication and Division)
- [x] RV64A Standard Extension (Atomic Instructions)
- [x] RV64F Standard Extension (Single-Precision Floating-Point)
- [x] RV64D Standard Extension (Double-Precision Floating-Point)

